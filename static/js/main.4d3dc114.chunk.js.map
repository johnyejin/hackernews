{"version":3,"sources":["components/CommentListItem.js","components/CommentTemplate.js","components/HackerListItem.js","components/HackerList.js","components/Paginator.js","components/HackerTemplate.js","pages/NewsPage.js","App.js","index.js"],"names":["CommentListItem","comment","className","user","time_ago","dangerouslySetInnerHTML","__html","content","comments","map","childComment","key","id","CommentTemplate","location","history","queryId","search","split","useState","setComments","loading","setLoading","commentList","setCommentList","useEffect","a","axios","get","response","data","console","log","fetchNews","onBackClick","useCallback","goBack","onClick","href","url","title","domain","comments_count","HackerListItem","news","to","HackerList","page","articles","setArticles","query","article","Paginator","onPageClick","handlePageClick","window","scrollTo","selected","Fragment","onPageChange","pageCount","pageRangeDisplayed","marginPagesDisplayed","forcePage","previousLabel","previousLinkClassName","nextLabel","nextLinkClassName","breakLabel","breakClassName","containerClassName","activeLinkClassName","HackerTemplate","children","handleClick","NewsPage","setPage","p","push","App","path","component","exact","render","pathname","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.4d3dc114.chunk.js","sourcesContent":["import React from 'react';\r\nimport './CommentListItem.scss';\r\n\r\nconst CommentListItem = ({ comment }) => {\r\n  return (\r\n    <div className=\"CommentListItem\">\r\n      <div className=\"comment-info\">\r\n        <div className=\"comment-user\">{comment.user}</div>\r\n        <div className=\"comment-time\">{comment.time_ago}</div>\r\n      </div>\r\n      <div className=\"comment-content\" dangerouslySetInnerHTML={{ __html: comment.content }}></div>\r\n      {comment.comments && comment.comments.map(childComment => \r\n        <CommentListItem key={childComment.id} comment={childComment} />)}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CommentListItem;","import React, { useState, useEffect, useCallback } from 'react';\r\nimport axios from 'axios';\r\nimport {\r\n  AiOutlineLink,\r\n  AiOutlineClockCircle,\r\n  AiOutlineComment,\r\n  AiOutlineRollback,\r\n} from 'react-icons/ai';\r\nimport './CommentTemplate.scss';\r\nimport CommentListItem from './CommentListItem';\r\n\r\nconst CommentTemplate = ({ location, history }) => {\r\n  const queryId = location.search.split('=')[1];\r\n  const [comments, setComments] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [commentList, setCommentList] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchNews = async () => {\r\n      setLoading(true);\r\n      try {\r\n        const response = await axios.get(\r\n          `https://node-hnapi.herokuapp.com/item/${queryId}`\r\n        );\r\n        setComments(response.data);\r\n        setCommentList(response.data.comments);\r\n      } catch (e) {\r\n        console.log('e', e);\r\n      }\r\n      setLoading(false);\r\n    };\r\n    fetchNews();\r\n  }, [queryId]);\r\n\r\n  const onBackClick = useCallback(\r\n    () => {\r\n      history.goBack();\r\n    },\r\n    []\r\n  );\r\n\r\n  if(loading) {\r\n    return <div>loading...</div>;\r\n  }\r\n\r\n  if(!comments) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"CommentTemplate\">\r\n      <div className=\"comment-header\">\r\n        <div className=\"app-title\">Hacker News</div>\r\n        <AiOutlineRollback onClick={onBackClick}/>\r\n      </div>\r\n      <div className=\"comment-container\">\r\n        <div className=\"news-title\">\r\n          <a href={comments.url}>{comments.title}</a>\r\n        </div>\r\n        <div className=\"news-info\">\r\n          <div className=\"news-url\">\r\n            <AiOutlineLink />\r\n            <div className=\"url\">\r\n              {comments.domain}\r\n            </div>\r\n          </div>\r\n          <div className=\"news-time\">\r\n            <AiOutlineClockCircle />\r\n            <div className=\"time\">{comments.time_ago}</div>\r\n          </div>\r\n          <div className=\"news-comments\">\r\n            <AiOutlineComment />\r\n            <div className=\"comments\">\r\n              {comments.comments_count} {comments.comments_count > 1 ? `comments` : `comment`}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {commentList.map(comment => (\r\n          <CommentListItem key={comment.id} comment={comment} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CommentTemplate;","import React from 'react';\r\nimport {\r\n  AiOutlineLink,\r\n  AiOutlineClockCircle,\r\n  AiOutlineComment,\r\n} from 'react-icons/ai';\r\nimport './HackerListItem.scss';\r\nimport { Link } from 'react-router-dom';\r\nimport CommentTemplate from './CommentTemplate';\r\n\r\nconst HackerListItem = ({ news }) => {\r\n  const { id, title, domain, time_ago, comments_count, url } = news;\r\n\r\n  return (\r\n    <div className=\"HackerListItem\">\r\n      <div className=\"news-title\">\r\n        <a href={url}>{title}</a>\r\n      </div>\r\n      <div className=\"news-info\">\r\n        <div className=\"news-url\">\r\n          <AiOutlineLink />\r\n          <div className=\"url\">\r\n            {domain}\r\n          </div>\r\n        </div>\r\n        <div className=\"news-time\">\r\n          <AiOutlineClockCircle />\r\n          <div className=\"time\">{time_ago}</div>\r\n        </div>\r\n        <div className=\"news-comments\">\r\n          <AiOutlineComment />\r\n          <div className=\"comments\">\r\n            <Link to={`/item?id=${id}`}>\r\n              <a>\r\n                {comments_count} {comments_count > 1 ? `comments` : `comment`}\r\n              </a>\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HackerListItem;\r\n","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport HackerListItem from './HackerListItem';\r\nimport './HackerList.scss';\r\n\r\nconst HackerList = ({ page }) => {\r\n  const [articles, setArticles] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const fetchNews = async () => {\r\n      setLoading(true);\r\n      try {\r\n        const query = page === 'hackernews' ? '' : `page=${page}`\r\n        const response = await axios.get(\r\n          `https://node-hnapi.herokuapp.com/news?${query}`\r\n        );\r\n        setArticles(response.data);\r\n      } catch (e) {\r\n        console.log('e', e);\r\n      }\r\n      setLoading(false);\r\n    };\r\n    fetchNews();\r\n  }, [page]);\r\n\r\n  if(loading) {\r\n    return <div>loading...</div>;\r\n  }\r\n\r\n  if(!articles) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"HackerList\">\r\n      {articles.map(article => (\r\n        <HackerListItem news={article} key={article.id} />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HackerList;\r\n","import React, { useCallback } from 'react';\r\nimport ReactPaginate from 'react-paginate';\r\nimport {\r\n  GrFormPrevious,\r\n  GrFormNext,\r\n} from 'react-icons/gr';\r\nimport './Paginator.scss';\r\n\r\nconst Paginator = ({ page, onPageClick }) => {\r\n  const handlePageClick = useCallback(\r\n    data => {\r\n      window.scrollTo(0, 0);\r\n      onPageClick(data.selected + 1);\r\n    },\r\n    []\r\n  );\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <ReactPaginate \r\n        onPageChange={handlePageClick}\r\n        pageCount={10}\r\n        pageRangeDisplayed={2}\r\n        marginPagesDisplayed={1}\r\n        forcePage={page-1}\r\n        previousLabel={<GrFormPrevious />}\r\n        previousLinkClassName={\"prev-link\"}\r\n        nextLabel={<GrFormNext />}\r\n        nextLinkClassName={\"next-link\"}\r\n        breakLabel={\"···\"}\r\n        breakClassName={\"break-me\"}\r\n        containerClassName={\"Paginator\"}\r\n        activeLinkClassName={\"active\"}\r\n      />\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Paginator;","import React, { useCallback } from 'react';\r\nimport './HackerTemplate.scss';\r\n\r\nconst HackerTemplate = ({ onPageClick, children }) => {\r\n  const handleClick = useCallback(\r\n    () => {\r\n      window.scrollTo(0, 0);\r\n      onPageClick(1);\r\n    },\r\n    [],\r\n  )\r\n\r\n  return (\r\n    <div className=\"HackerTemplate\">\r\n      <div className=\"app-title\" onClick={handleClick}>Hacker News</div>\r\n      <div className=\"content\">{children}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HackerTemplate;\r\n","import React, { useState, useCallback } from 'react';\r\nimport HackerList from '../components/HackerList';\r\nimport Paginator from '../components/Paginator';\r\nimport HackerTemplate from '../components/HackerTemplate';\r\n\r\nconst NewsPage = ({ location, history }) => {\r\n  const queryId = location.search.split('=')[1];\r\n  const [page, setPage] = useState(queryId || 1);\r\n  console.log('location', location);\r\n  console.log('history', history);\r\n\r\n  const onPageClick = useCallback(\r\n    p => {\r\n      setPage(p);\r\n      history.push(`/news?page=${p}`);\r\n    },\r\n    []\r\n  );\r\n\r\n  return (\r\n    <HackerTemplate onPageClick={onPageClick}>\r\n      <HackerList page={page} />\r\n      <Paginator page={page} onPageClick={onPageClick} />\r\n    </HackerTemplate>\r\n  );\r\n};\r\n\r\nexport default NewsPage;","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport NewsPage from './pages/NewsPage';\nimport CommentTemplate from './components/CommentTemplate';\n\nconst App = () => {\n  return (\n    <Switch>\n      <Route path=\"/\" component={NewsPage} exact />\n      <Route path='/news/:page?' component={NewsPage} />\n      <Route path='/item/:id?' component={CommentTemplate} />\n      <Route \n        render={({ location }) => (\n          <div>\n            <h2>이 페이지는 존재하지 않습니다:</h2>\n            <p>{location.pathname}</p>\n          </div>\n        )}\n      />\n    </Switch>\n  );\n};\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport App from './App';\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);"],"sourceRoot":""}